{% extends 'template.html' %}

{% block content %}

<div class="space-y-8 max-w-4xl mx-auto">
    <!-- Back Button -->
    <a href="/research" class="group inline-flex items-center space-x-2 text-slate-500 hover:text-white transition">
        <svg class="h-5 w-5 transform group-hover:-translate-x-1 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
        </svg>
        <span class="font-medium">Back to Research</span>
    </a>

    <!-- Main Content Card -->
    <article class="bg-[#3730a3]/90 backdrop-blur-md border border-white/10 rounded-3xl overflow-hidden">
        <div class="p-8 lg:p-12 space-y-10">
            <!-- Header Section -->
            <header class="space-y-6">
                <div class="flex items-center space-x-3">
                    <span class="px-3 py-1 bg-red-600/10 text-red-500 text-xs font-bold uppercase tracking-widest rounded-full border border-red-600/20">Reinforcement Learning</span>
                    <span class="text-slate-500 text-sm font-medium">Spotify Research • 2023</span>
                </div>
                <h1 class="text-3xl lg:text-4xl font-black text-white tracking-tight leading-tight">
                    Automatic Music Playlist Generation via Simulation-based Reinforcement Learning
                </h1>
                <div class="flex items-center space-x-2 text-slate-400">
                    <span class="text-sm">Summary by</span>
                    <span class="text-sm font-bold text-slate-200">Ritom Sen</span>
                </div>
            </header>

            <!-- Summary Content -->
            <div class="prose prose-invert prose-slate max-w-none space-y-8">
                <div class="space-y-4">
                    <h3 class="text-xl font-bold text-red-500 flex items-center">
                        <span class="w-8 h-[2px] bg-red-500 mr-4"></span>
                        Executive Summary
                    </h3>
                    <p class="text-slate-300 leading-relaxed text-sm lg:text-base">
                        This paper explores how Spotify curates playlists using <span class="highlighted-word cursor-pointer text-red-400 font-bold underline decoration-red-500/30">Reinforcement Learning</span>. Unlike traditional methods like collaborative filtering, RL accounts for acoustic coherence and listening context. The researchers modeled the problem as a Markov Decision Process, where the agent learns to balance recommending new tracks vs. familiar ones.
                    </p>
                </div>

                <div class="space-y-4">
                    <h3 class="text-xl font-bold text-red-500 flex items-center">
                        <span class="w-8 h-[2px] bg-red-500 mr-4"></span>
                        Environment & User Modeling
                    </h3>
                    <p class="text-slate-300 leading-relaxed text-sm lg:text-base">
                        The framework uses a "world model" to simulate user behavior. This allows for offline training without exposing real users to sub-optimal recommendations. The environment consists of a transition function (State × Action → New State) and a reward function.
                    </p>
                    <div class="bg-red-950/20 border border-red-900/30 rounded-2xl p-6 italic text-slate-400 text-sm">
                        "In simpler terms: An agent picks songs, and based on contextual info, a user model predicts the response (skip or listen), which translates to a reward used to update the agent."
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white/5 border border-white/5 rounded-2xl p-6 space-y-3">
                        <h4 class="font-bold text-white text-sm uppercase tracking-widest">Sequential Model (SWM)</h4>
                        <p class="text-slate-400 text-xs leading-relaxed">Uses LSTM cells to ensure track order matters. More accurate but computationally expensive to train.</p>
                    </div>
                    <div class="bg-white/5 border border-white/5 rounded-2xl p-6 space-y-3">
                        <h4 class="font-bold text-white text-sm uppercase tracking-widest">Non-Sequential (CWM)</h4>
                        <p class="text-slate-400 text-xs leading-relaxed">Faster dense layer model where sequence doesn't matter. Efficient for initial agent training.</p>
                    </div>
                </div>

                <div class="space-y-4 pt-4 border-t border-white/5">
                    <h3 class="text-xl font-bold text-red-500 flex items-center">
                        <span class="w-8 h-[2px] bg-red-500 mr-4"></span>
                        Conclusion
                    </h3>
                    <p class="text-slate-300 leading-relaxed text-sm lg:text-base">
                        The study successfully demonstrated that model-based RL is feasible for playlist generation, performing as well as current production models while allowing for safer offline experimentation.
                    </p>
                </div>
            </div>
        </div>
    </article>

    <!-- Definition Dialog -->
    <div id="dialogBox" class="fixed inset-0 z-[100] flex items-center justify-center p-6 opacity-0 pointer-events-none transition-all duration-300">
        <div class="absolute inset-0 bg-slate-950/60 backdrop-blur-sm"></div>
        <div class="relative bg-slate-900 border border-white/10 rounded-3xl p-8 max-w-sm shadow-2xl transform scale-95 transition">
            <h4 class="text-red-500 font-bold uppercase tracking-widest text-xs mb-2">Key Concept</h4>
            <p class="text-white text-lg font-medium leading-relaxed" id="definition">
                A framework for solving decision problems by building agents that trial and error against an environment and learn based on rewards.
            </p>
            <button id="closeButton" class="mt-8 w-full py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-xl transition">
                Close
            </button>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var highlightedWords = document.querySelectorAll('.highlighted-word');
        var dialogBox = document.getElementById('dialogBox');
        var definition = document.getElementById('definition');
    
        highlightedWords.forEach(function(word) {
            word.addEventListener('click', function() {
                dialogBox.classList.add('opacity-100');
                dialogBox.classList.remove('pointer-events-none');
            });
        });
    
        document.getElementById('closeButton').addEventListener('click', function() {
            dialogBox.classList.remove('opacity-100');
            dialogBox.classList.add('pointer-events-none');
        });
    });
</script>

{% endblock %}
